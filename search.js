const dataProject0 = {
	title: "Social Media Dashboard",
	paragraph:
		"I created a social media dashboard using HTML, CSS and JS to add data to the webpage.",
	linkLivePreview: "https://elliotlafave.com/projects/socialmediadashboard/",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/SocialMediaDashboard",
	linkImg:
		"https://elliotlafave.com/img/Projects/Social%20Media%20Dashboard.png",
	tags: ["html", "css", "js"],
};

const dataProject1 = {
	title: "Toast Notification",
	paragraph:
		"I creates a toast notification (Popup) using JavaScript event listeners.",
	linkLivePreview: "Projects/ToastNotification/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/ToastNotification",
	linkImg: "img/Projects/Toast Notification.png",
	tags: ["html", "css", "js"],
};

const dataProject2 = {
	title: "Blurry Loading",
	paragraph:
		"Blurry loading animation using CSS animation along with JavaScript timing functions.",
	linkLivePreview: "Projects/BlurryLoading/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/BlurryLoading",
	linkImg: "img/Projects/Blurry Loading.png",
	tags: ["html", "css", "js"],
};

const dataProject3 = {
	title: "Rotating Navigation",
	paragraph:
		"I created an animated navigation menu that spins out from the side of the page.",
	linkLivePreview: "Projects/RotatingNavigation/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/RotatingNavigation",
	linkImg: "img/Projects/Rotating Navigation.png",
	tags: ["html", "css", "js"],
};

const dataProject4 = {
	title: "Hidden Search Widget",
	paragraph:
		"I created a mini hidden search widget that reveals a searchbar when clicked.",
	linkLivePreview: "Projects/HiddenSearchWidget/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/HiddenSearchWidget",
	linkImg: "img/Projects/Hidden Search Widget.png",
	tags: ["html", "css", "js"],
};

const dataProject5 = {
	title: "Scroll Animation",
	paragraph:
		"I created a scroll animation that detects when a user is scrolling and shows cards as you scroll.",
	linkLivePreview: "Projects/ScrollAnimation/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/ScrollAnimation",
	linkImg: "img/Projects/Scroll Animation.png",
	tags: ["html", "css", "js"],
};

const dataProject6 = {
	title: "Double Vertical Slider",
	paragraph:
		"I created a JavaScript double slider which slides in new content from the top and bottom.",
	linkLivePreview: "Projects/DoubleVerticalSlider/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/DoubleVerticalSlider",
	linkImg: "img/Projects/Double Vertical Slider.png",
	tags: ["html", "css", "js"],
};

const dataProject7 = {
	title: "Expanding Cards",
	paragraph:
		"I made different cards that collapse to show only the card which is in focus. ",
	linkLivePreview: "Projects/ExpandingCards/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/ExpandingCards",
	linkImg: "img/Projects/Expanding cards.png",
	tags: ["html", "css", "js"],
};

const dataProject8 = {
	title: "Random Takeaway Picker",
	paragraph:
		"I created a random takeaway picker to help me decide what food too order when I'm hungry.",
	linkLivePreview: "Projects/TakeawayPicker/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/TakeawayPicker",
	linkImg: "img/Projects/TakeawayPicker.png",
	tags: ["html", "css", "js"],
};

const dataProject9 = {
	title: "Progress Steps",
	paragraph:
		"I created progress steps which can be used in a sign up process or a shopping basket.",
	linkLivePreview: "Projects/ProgressSteps/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/ProgressSteps",
	linkImg: "img/Projects/Progress Steps.png",
	tags: ["html", "css", "js"],
};

const dataProject10 = {
	title: "Checkbox Slider",
	paragraph:
		"I designed an animated checkbox slider that can be used anywhere i might need a toggle. I use this for dark mode sliders.",
	linkLivePreview: "Projects/CheckboxSlider/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/CheckboxSlider",
	linkImg: "img/Projects/Dark Mode Slider.png",
	tags: ["html", "css", "js"],
};

const dataProject11 = {
	title: "Live User Filter",
	paragraph:
		"I used a free API to get random user data such as names and profile pictures and used JS to sort through them.",
	linkLivePreview: "Projects/LiveUserFilter/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/LiveUserFilter",
	linkImg: "img/Projects/Live User Filter.png",
	tags: ["html", "css", "js", "api"],
};

const dataProject12 = {
	title: "Movie Search App",
	paragraph:
		"I used an API from the movie database to create a movie app which displays the most popular movies and can be searched through by the user.",
	linkLivePreview: "Projects/MovieApp/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/MovieApp",
	linkImg: "img/Projects/Movie App.png",
	tags: ["html", "css", "js", "api"],
};

const dataProject13 = {
	title: "Testimonials Grid",
	paragraph:
		"I coded a testimonials page using CSS(3) Grid to display the items in an interesting way. I added images and borders around them aswel as complimentary colors.",
	linkLivePreview: "Projects/testimonials-grid/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/testimonials-grid",
	linkImg: "img/Projects/testimonials.png",
	tags: ["html", "css"],
};

const dataProject14 = {
	title: "Order Completion Page",
	paragraph:
		"I designed a order completion page using HTML(5) and CSS(3). I used a variety of DIV elements and positioning to complete the design.",
	linkLivePreview: "Projects/order-page/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/order-page",
	linkImg: "img/Projects/order.png",
	tags: ["html", "css"],
};

const dataProject15 = {
	title: "Guess My Number Game",
	paragraph:
		"I coded a number guessing game using Javascript, used Javascript functions and DOM manipulation to make the game functional in the browser",
	linkLivePreview: "guessNumber/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/guessNumber",
	linkImg: "img/card-guessNumber.png",
	tags: ["html", "css", "js"],
};

const dataProject16 = {
	title: "Nexter - Real Estate Site",
	paragraph:
		"I coded a website that sells luxury homes from the top trusted realtors. Across the site i used CSS grid to place the content.",
	linkLivePreview: "Projects/nexter/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/Nexter",
	linkImg: "img/Projects/nexter.png",
	tags: ["html", "css"],
};

const dataProject17 = {
	title: "Dice Game",
	paragraph:
		"I created a dice game using Javascript, HTML and CSS. You can chose to hold your score or keep rolling but get 0 points when a 1 is rolled. First to 100 score wins.",
	linkLivePreview: "DiceGame/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/DiceGame",
	linkImg: "img/DiceGame.png",
	tags: ["html", "css", "js"],
};

const dataProject18 = {
	title: "Rock Paper Scissors",
	paragraph:
		"I created a Rock Paper Scissors game using html and javascript page manipulation.",
	linkLivePreview: "Projects/RockPaperScissors/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/RockPaperScissors",
	linkImg: "img/Projects/Rock, Paper, Scissors.png",
	tags: ["html", "css", "js"],
};

const dataProject19 = {
	title: "Bankist - Bank Application",
	paragraph:
		"I created a banking application using vanilla JavaScript. Users can log in and transfer money between the different accounts along with closing the account and getting loans.",
	linkLivePreview: "Projects/Bankist/App/index.html",
	linkGit:
		"https://github.com/elliotlafave123/elliotlafave123.github.io/tree/master/Projects/Bankist/App",
	linkImg: "img/Projects/bankist.png",
	tags: ["html", "css", "js"],
};

const featuredProjects = [
	dataProject18,
	dataProject16,
	dataProject19,
	dataProject12,
	dataProject11,
	dataProject17,
	dataProject0,
];
// const featuredData = [dataProject18, dataProject16, dataProject19];

const data = [
	dataProject1,
	dataProject2,
	dataProject13,
	dataProject14,
	dataProject3,
	dataProject4,
	dataProject5,
	dataProject7,
	dataProject10,
	dataProject9,
	dataProject17,
	dataProject18,

	dataProject19,
	dataProject8,
	dataProject15,
	dataProject6,

	dataProject0,
	dataProject11,
	dataProject12,
	dataProject16,
];

const cardsContainer = document.getElementById("cardsContainer");
const searchInput = document.querySelector(".search-input");
const dropdown = document.getElementById("dropdown");
const featured = document.getElementById("cardGrid3");
const featuredHome = document.getElementById("cardGrid3-home");

const getFeaturedData = function (data) {
	let picked = [];
	let data1 = [];

	const getRandomPositions = function () {
		let i = Math.floor(Math.random() * featuredProjects.length);

		if (!picked.includes(i)) {
			picked.push(i);
		}
	};

	while (picked.length < 3) {
		getRandomPositions();
	}

	const addData = function (picked) {
		for (let i = 0; i < 3; i++) {
			data1.push(featuredProjects[picked[i]]);
		}
	};
	addData(picked);

	return data1;
};
// getFeaturedData();

const displayFeaturedHome = function (data) {
	featuredHome.innerHTML = "";

	data.forEach(function (project, i) {
		const html = `
        <div class="card">
                <img src="${project.linkImg}" alt="" class="card__img">
                <div class="card__content">
                    <h4 class="card__title u-margin-bottom-medium">${
						project.title
					}</h4>
                    <p class="card__text">${project.paragraph}</p>
                    <div class="tags">
                    ${
						project.tags.includes("css")
							? '<span class="tags__tag tags__tag--html">HTML</span>'
							: ""
					}
                    ${
						project.tags.includes("css")
							? '<span class="tags__tag tags__tag--css">CSS</span>'
							: ""
					}
                    ${
						project.tags.includes("js")
							? '<span class="tags__tag tags__tag--js">JS</span>'
							: ""
					}
                    </div> 
                    <div class="card__buttons">
                        <a href="${
							project.linkLivePreview
						}" class="btn btn--card" target="blank">Live Preview <span class="btn--card-icon"><i class="fa-solid fa-up-right-from-square"></i></span></a>
                        <a href="${
							project.linkGit
						}" class="btn btn--git" target="blank"><img src="img/github-logo.png" alt=""></a>
                    </div>                  
                </div>
            </div> 
      `;

		featuredHome.insertAdjacentHTML("afterbegin", html);
	});
};

if (featuredHome) {
	displayFeaturedHome(getFeaturedData(featuredProjects));
}

const displayFeatured = function (data) {
	featured.innerHTML = "";

	data.forEach(function (project, i) {
		const html = `
        <div class="card card--2">
                <img src="${project.linkImg}" alt="" class="card__img">
                <div class="card__content">
                    <h4 class="card__title u-margin-bottom-medium">${
						project.title
					}</h4>
                    <p class="card__text">${project.paragraph}</p>
                    <div class="tags">
                    ${
						project.tags.includes("css")
							? '<span class="tags__tag tags__tag--html">HTML</span>'
							: ""
					}
                    ${
						project.tags.includes("css")
							? '<span class="tags__tag tags__tag--css">CSS</span>'
							: ""
					}
                    ${
						project.tags.includes("js")
							? '<span class="tags__tag tags__tag--js">JS</span>'
							: ""
					}
                    </div> 
                    <div class="card__buttons">
                        <a href="${
							project.linkLivePreview
						}" class="btn btn--card" target="blank">Live Preview <span class="btn--card-icon"><i class="fa-solid fa-up-right-from-square"></i></span></a>
                        <a href="${
							project.linkGit
						}" class="btn btn--git" target="blank"><img src="img/github-logo.png" alt=""></a>
                    </div>                  
                </div>
            </div> 
      `;

		featured.insertAdjacentHTML("afterbegin", html);
	});
};
if (featured) {
	displayFeatured(getFeaturedData(featuredProjects));
}

const displayMovements = function (data) {
	cardsContainer.innerHTML = "";

	data.forEach(function (project, i) {
		const html = `
        <div class="cardjs">
				<img
					src="${project.linkImg}"
					alt="A Project Card Image" 
                    class="cardjs-img"
				/>
				<div class="JScard-content">
					<h4>${project.title}</h4>
					<div class="tags-container">
                        ${
							project.tags.includes("html")
								? '<div class="tag tag-html">HTML</div>'
								: ""
						}
						${project.tags.includes("css") ? '<div class="tag tag-css">CSS</div>' : ""}
						${project.tags.includes("js") ? '<div class="tag tag-js">JS</div>' : ""}
						${project.tags.includes("api") ? '<div class="tag tag-api">API</div>' : ""}
					</div>
					<p>
						${project.paragraph}
					</p>
				</div>
				<div class="buttons-container">
					<a href="${project.linkLivePreview}" class="JSbtn-live-preview"
						>Live Preview
						<i class="fa-solid fa-up-right-from-square"></i>
					</a>
					<a href="${project.linkGit}" class="btn-git">
						<img
							src="https://d33wubrfki0l68.cloudfront.net/f78349611e6cb9ec98b8b2851b3b1e616e7e4ea3/1c471/img/github-logo.png"
							alt=""
						/>
					</a>
				</div>
			</div>
      `;

		cardsContainer.insertAdjacentHTML("afterbegin", html);
	});
};
displayMovements(data);

searchInput.addEventListener("input", (e) => {
	e.preventDefault();

	search(searchInput.value);
});

let isThere = [];
const search = function (input) {
	isThere = [];

	data.forEach(function (project, i) {
		let words = project.title.toLowerCase().split(" ");
		let wordsStr = words.join("");

		if (wordsStr.includes(input.toLowerCase())) {
			isThere.push(project);
		}
	});

	displayMovements(isThere);
};

let selection = [];
dropdown.addEventListener("input", (e) => {
	e.preventDefault();
	selection = [];

	data.forEach(function (project, i) {
		if (project.tags.includes(dropdown.value)) {
			selection.push(project);
			displayMovements(selection);
		}
	});
});
