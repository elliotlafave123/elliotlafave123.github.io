(()=>{"use strict";var __webpack_modules__={2514:function(__unused_webpack_module,exports,__webpack_require__){eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.ResetPassword = void 0;\r\nconst Constants_1 = __webpack_require__(2079);\r\nfunction ResetPassword(resetPassword) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const response = yield fetch(`${Constants_1.Constants.API_BASE_URL}/api/users/resetpassword/${resetPassword.id}/${resetPassword.token}`, {\r\n                method: "POST",\r\n                headers: { "Content-Type": "application/json" },\r\n                body: JSON.stringify({\r\n                    email: resetPassword.email,\r\n                    password: resetPassword.password,\r\n                    passwordConfirmation: resetPassword.passwordConfirmation,\r\n                }),\r\n            });\r\n            if (response.status === 403) {\r\n                throw new Error("Invalid email or password");\r\n            }\r\n            if (response.status === 301) {\r\n                throw new Error("Email verification required");\r\n            }\r\n            return true;\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    });\r\n}\r\nexports.ResetPassword = ResetPassword;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUxNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSw4Q0FBeUQ7QUFHekQsU0FBc0IsYUFBYSxDQUFDLGFBQWlDOztRQUNuRSxJQUFJO1lBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQzFCLEdBQUcscUJBQVMsQ0FBQyxZQUFZLDRCQUE0QixhQUFhLENBQUMsRUFBRSxJQUFJLGFBQWEsQ0FBQyxLQUFLLEVBQUUsRUFDOUY7Z0JBQ0UsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsT0FBTyxFQUFFLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFO2dCQUMvQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQztvQkFDbkIsS0FBSyxFQUFFLGFBQWEsQ0FBQyxLQUFLO29CQUMxQixRQUFRLEVBQUUsYUFBYSxDQUFDLFFBQVE7b0JBQ2hDLG9CQUFvQixFQUFFLGFBQWEsQ0FBQyxvQkFBb0I7aUJBQ3pELENBQUM7YUFDSCxDQUNGLENBQUM7WUFFRixJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssR0FBRyxFQUFFO2dCQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7YUFDOUM7WUFDRCxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssR0FBRyxFQUFFO2dCQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7YUFDaEQ7WUFFRCxPQUFPLElBQUksQ0FBQztTQUNiO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7SUFDSCxDQUFDO0NBQUE7QUEzQkQsc0NBMkJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGV4YW1wbGUvYmFzaWNzLy4vc3JjL1R5cGVTY3JpcHQvQXV0aGVudGljYXRpb24vQ29udHJvbGxlcnMvUmVzZXQgUGFzc3dvcmQvUmVzZXRQYXNzd29yZC50cz80YmMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi8uLi8uLi9Db25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFJlc2V0UGFzc3dvcmRNb2RlbCB9IGZyb20gXCIuLi8uLi9Nb2RlbHMvUmVzZXRQYXNzd29yZE1vZGVsXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRQYXNzd29yZChyZXNldFBhc3N3b3JkOiBSZXNldFBhc3N3b3JkTW9kZWwpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYCR7Q29uc3RhbnRzLkFQSV9CQVNFX1VSTH0vYXBpL3VzZXJzL3Jlc2V0cGFzc3dvcmQvJHtyZXNldFBhc3N3b3JkLmlkfS8ke3Jlc2V0UGFzc3dvcmQudG9rZW59YCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGVtYWlsOiByZXNldFBhc3N3b3JkLmVtYWlsLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6IHJlc2V0UGFzc3dvcmQucGFzc3dvcmQsXHJcbiAgICAgICAgICBwYXNzd29yZENvbmZpcm1hdGlvbjogcmVzZXRQYXNzd29yZC5wYXNzd29yZENvbmZpcm1hdGlvbixcclxuICAgICAgICB9KSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZFwiKTtcclxuICAgIH1cclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDMwMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbWFpbCB2ZXJpZmljYXRpb24gcmVxdWlyZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2514\n')},583:function(__unused_webpack_module,exports,__webpack_require__){eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.resetPassword = void 0;\r\nconst ResetPassword_1 = __webpack_require__(2514);\r\nfunction resetPassword() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const form = document.getElementById("resetPasswordForm");\r\n        const password = document.getElementById("password");\r\n        const confirmPassword = document.getElementById("confirmPassword");\r\n        form.addEventListener("submit", (e) => __awaiter(this, void 0, void 0, function* () {\r\n            e.preventDefault();\r\n            // get email,passwordResetCode and id from the url\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const id = urlParams.get("id");\r\n            const token = urlParams.get("passwordResetCode");\r\n            const email = urlParams.get("email");\r\n            if (id && token && email) {\r\n                const resetPasswordData = {\r\n                    id: id,\r\n                    token: token,\r\n                    email: email,\r\n                    password: password.value,\r\n                    passwordConfirmation: confirmPassword.value,\r\n                };\r\n                const resetSuccessful = yield (0, ResetPassword_1.ResetPassword)(resetPasswordData);\r\n                if (resetSuccessful) {\r\n                    // Redirect or show some message to indicate success\r\n                    window.location.href = "login.html";\r\n                }\r\n                else {\r\n                    // TODO: Handle reset password failure, show an error message, etc.\r\n                }\r\n            }\r\n            else {\r\n                console.log("Missing URL parameters");\r\n            }\r\n        }));\r\n    });\r\n}\r\nexports.resetPassword = resetPassword;\r\nresetPassword();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGtEQUErRTtBQUcvRSxTQUFzQixhQUFhOztRQUNqQyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDMUQsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQXFCLENBQUM7UUFDekUsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBcUIsQ0FBQztRQUV2RixJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLENBQU8sQ0FBQyxFQUFFLEVBQUU7WUFDMUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRW5CLGtEQUFrRDtZQUNsRCxNQUFNLFNBQVMsR0FBRyxJQUFJLGVBQWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRTlELE1BQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0IsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFckMsSUFBSSxFQUFFLElBQUksS0FBSyxJQUFJLEtBQUssRUFBRTtnQkFDeEIsTUFBTSxpQkFBaUIsR0FBdUI7b0JBQzVDLEVBQUUsRUFBRSxFQUFFO29CQUNOLEtBQUssRUFBRSxLQUFLO29CQUNaLEtBQUssRUFBRSxLQUFLO29CQUNaLFFBQVEsRUFBRSxRQUFRLENBQUMsS0FBSztvQkFDeEIsb0JBQW9CLEVBQUUsZUFBZSxDQUFDLEtBQUs7aUJBQzVDLENBQUM7Z0JBRUYsTUFBTSxlQUFlLEdBQUcsTUFBTSxpQ0FBYSxFQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBRS9ELElBQUksZUFBZSxFQUFFO29CQUNuQixvREFBb0Q7b0JBQ3BELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQztpQkFDckM7cUJBQU07b0JBQ0wsbUVBQW1FO2lCQUNwRTthQUNGO2lCQUFNO2dCQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLENBQUMsQ0FBQzthQUN2QztRQUNILENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQztDQUFBO0FBcENELHNDQW9DQztBQUVELGFBQWEsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGV4YW1wbGUvYmFzaWNzLy4vc3JjL1R5cGVTY3JpcHQvQXV0aGVudGljYXRpb24vVmlld3MvUmVzZXQgUGFzc3dvcmQvcmVzZXRQYXNzd29yZC50cz8yNmQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2V0UGFzc3dvcmQgfSBmcm9tIFwiLi4vLi4vQ29udHJvbGxlcnMvUmVzZXQgUGFzc3dvcmQvUmVzZXRQYXNzd29yZFwiO1xyXG5pbXBvcnQgeyBSZXNldFBhc3N3b3JkTW9kZWwgfSBmcm9tIFwiLi4vLi4vTW9kZWxzL1Jlc2V0UGFzc3dvcmRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoKSB7XHJcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRQYXNzd29yZEZvcm1cIik7XHJcbiAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maXJtUGFzc3dvcmRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgLy8gZ2V0IGVtYWlsLHBhc3N3b3JkUmVzZXRDb2RlIGFuZCBpZCBmcm9tIHRoZSB1cmxcclxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcblxyXG4gICAgY29uc3QgaWQgPSB1cmxQYXJhbXMuZ2V0KFwiaWRcIik7XHJcbiAgICBjb25zdCB0b2tlbiA9IHVybFBhcmFtcy5nZXQoXCJwYXNzd29yZFJlc2V0Q29kZVwiKTtcclxuICAgIGNvbnN0IGVtYWlsID0gdXJsUGFyYW1zLmdldChcImVtYWlsXCIpO1xyXG5cclxuICAgIGlmIChpZCAmJiB0b2tlbiAmJiBlbWFpbCkge1xyXG4gICAgICBjb25zdCByZXNldFBhc3N3b3JkRGF0YTogUmVzZXRQYXNzd29yZE1vZGVsID0ge1xyXG4gICAgICAgIGlkOiBpZCxcclxuICAgICAgICB0b2tlbjogdG9rZW4sXHJcbiAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZC52YWx1ZSxcclxuICAgICAgICBwYXNzd29yZENvbmZpcm1hdGlvbjogY29uZmlybVBhc3N3b3JkLnZhbHVlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzZXRTdWNjZXNzZnVsID0gYXdhaXQgUmVzZXRQYXNzd29yZChyZXNldFBhc3N3b3JkRGF0YSk7XHJcblxyXG4gICAgICBpZiAocmVzZXRTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgLy8gUmVkaXJlY3Qgb3Igc2hvdyBzb21lIG1lc3NhZ2UgdG8gaW5kaWNhdGUgc3VjY2Vzc1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJsb2dpbi5odG1sXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVE9ETzogSGFuZGxlIHJlc2V0IHBhc3N3b3JkIGZhaWx1cmUsIHNob3cgYW4gZXJyb3IgbWVzc2FnZSwgZXRjLlxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk1pc3NpbmcgVVJMIHBhcmFtZXRlcnNcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbnJlc2V0UGFzc3dvcmQoKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///583\n')},2079:(__unused_webpack_module,exports)=>{eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.Constants = void 0;\r\nclass Constants {\r\n}\r\nexports.Constants = Constants;\r\nConstants.API_BASE_URL = "http://localhost:5000";\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA3OS5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFhLFNBQVM7O0FBQXRCLDhCQUdDO0FBRlEsc0JBQVksR0FBRyx1QkFBdUIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BleGFtcGxlL2Jhc2ljcy8uL3NyYy9UeXBlU2NyaXB0L0NvbnN0YW50cy9Db25zdGFudHMudHM/ZjZjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29uc3RhbnRzIHtcclxuICBzdGF0aWMgQVBJX0JBU0VfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjUwMDBcIjtcclxuICAvLyBzdGF0aWMgQVBJX0JBU0VfVVJMID0gXCJodHRwczovL2VsbGlvdGFwaXNlcnZlci5jb21cIjtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2079\n')}},__webpack_module_cache__={};function __webpack_require__(e){var s=__webpack_module_cache__[e];if(void 0!==s)return s.exports;var c=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(c.exports,c,c.exports,__webpack_require__),c.exports}var __webpack_exports__=__webpack_require__(583)})();